<!DOCTYPE html>
<html lang="ja">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ä»¤å’Œå…«å¹´ AIã‚­ãƒ£ãƒ©è¨ºæ–­ (Standalone)</title>

    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Shippori+Mincho:wght@400;500;600;700;800&family=Zen+Maru+Gothic:wght@400;700;900&display=swap"
        rel="stylesheet">

    <!-- Tailwind CSS via CDN -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- Tailwind Config to match globals.css -->
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'ny-red': '#c92a2a',
                        'ny-red-light': '#ff6b6b',
                        'ny-gold': '#c5a059',
                        'ny-gold-light': '#e6c278',
                        'ny-gold-dark': '#8a6d3b',
                        'ny-white': '#ffffff',
                        'ny-cream': '#fdfbf7',
                        'ny-navy': '#1e2130',
                    },
                    fontFamily: {
                        serif: ['"Shippori Mincho"', 'ui-serif', 'Georgia', 'serif'],
                        sans: ['"Zen Maru Gothic"', 'ui-sans-serif', 'system-ui', 'sans-serif'],
                    },
                    animation: {
                        'bounce-gentle': 'bounceGentle 3s infinite',
                    },
                    keyframes: {
                        bounceGentle: {
                            '0%, 100%': { transform: 'translateY(-5%)' },
                            '50%': { transform: 'translateY(0)' },
                        }
                    }
                }
            }
        }
    </script>

    <style>
        /* CSS Variables & Global Styles from globals.css */
        :root {
            --color-ny-red: #c92a2a;
            --color-ny-red-light: #ff6b6b;
            --color-ny-gold: #c5a059;
            --color-ny-gold-light: #e6c278;
            --color-ny-gold-dark: #8a6d3b;
            --color-ny-white: #ffffff;
            --color-ny-cream: #fdfbf7;
            --color-ny-navy: #1e2130;
        }

        body {
            background-color: var(--color-ny-cream);
            color: var(--color-ny-navy);
            /* Japanese Paper (Washi) Texture with Gold Flakes */
            background-image:
                radial-gradient(circle at 10% 20%, rgba(197, 160, 89, 0.2) 2px, transparent 2.5px),
                radial-gradient(circle at 90% 80%, rgba(201, 42, 42, 0.1) 2px, transparent 2.5px),
                url("data:image/svg+xml,%3Csvg width='200' height='200' viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)' opacity='0.08'/%3E%3C/svg%3E");
            background-size: 120px 120px, 150px 150px, 200px 200px;
            background-position: 0 0, 40px 40px, 0 0;
            font-family: "Shippori Mincho", serif;
            margin: 0;
            min-height: 100vh;
        }

        /* Utility Classes */
        .text-vertical {
            writing-mode: vertical-rl;
            text-orientation: upright;
        }

        .card-festive {
            background-color: white;
            border: 1px solid #e7e5e4;
            /* stone-200 */
            border-radius: 0.5rem;
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
            position: relative;
            overflow: hidden;
            background-image: url("data:image/svg+xml,%3Csvg width='100' height='100' viewBox='0 0 100 100' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.8' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)' opacity='0.05'/%3E%3C/svg%3E");
        }

        .btn-festive-primary {
            position: relative;
            background-color: #c92a2a;
            color: white;
            font-weight: 700;
            font-size: 1.125rem;
            padding: 1rem 3rem;
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
            transition: all 0.2s;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.75rem;
            letter-spacing: 0.1em;
            background-image: linear-gradient(180deg, rgba(255, 255, 255, 0.1), rgba(0, 0, 0, 0.1));
            clip-path: polygon(5% 0%, 100% 0%, 95% 100%, 0% 100%);
            cursor: pointer;
        }

        .btn-festive-primary:hover {
            background-color: #b01e1e;
            transform: translateY(-1px);
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1);
        }

        .btn-festive-primary:active {
            transform: translateY(1px);
        }

        .btn-festive-secondary {
            background-color: transparent;
            color: var(--color-ny-navy);
            font-weight: 700;
            padding: 0.75rem 2rem;
            border: 2px solid var(--color-ny-navy);
            transition: background-color 0.2s, color 0.2s;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
            cursor: pointer;
        }

        .btn-festive-secondary:hover {
            background-color: var(--color-ny-navy);
            color: white;
        }

        /* Animations */
        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .fade-in {
            animation: fadeIn 0.6s ease-out forwards;
        }

        @keyframes float {

            0%,
            100% {
                transform: translateY(0);
            }

            50% {
                transform: translateY(-8px);
            }
        }

        .animate-float {
            animation: float 4s ease-in-out infinite;
        }

        @keyframes pulse-slow {

            0%,
            100% {
                opacity: 0.2;
            }

            50% {
                opacity: 0.4;
            }
        }

        .animate-pulse-slow {
            animation: pulse-slow 3s infinite;
        }

        @keyframes bounce-gentle {

            0%,
            100% {
                transform: translateY(-5%);
            }

            50% {
                transform: translateY(0);
            }
        }

        .animate-bounce-gentle {
            animation: bounce-gentle 3s infinite;
        }

        /* Hidden/Visible Utility */
        .hidden-screen {
            display: none !important;
        }

        /* Custom Scrollbar for nicer embedded look */
        ::-webkit-scrollbar {
            width: 8px;
        }

        ::-webkit-scrollbar-track {
            background: #f1f1f1;
        }

        ::-webkit-scrollbar-thumb {
            background: #c5a059;
            border-radius: 4px;
        }
    </style>
</head>

<body class="antialiased font-serif flex flex-col min-h-screen">

    <main id="app" class="flex-1 flex flex-col items-center w-full">
        <!-- Screens will be injected here -->
    </main>

    <script>
        // --- DATA (Copied from source) ---
        const questions = [
            { id: 1, question: "æ–°ã—ã„AIãƒ„ãƒ¼ãƒ«ãŒè©±é¡Œã«ãªã£ãŸã‚‰ã€ã‚ãªãŸã¯ã©ã†ã™ã‚‹ï¼Ÿ", answers: [{ text: "ã™ãã«ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ã¦è©¦ã—ã¦ã¿ã‚‹ï¼", scores: { pioneer: 3, creator: 1, builder: 1 } }, { text: "ã¾ãšã¯ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚„è©•åˆ¤ã‚’èª¿ã¹ã¦ã‹ã‚‰", scores: { analyst: 3, learner: 2 } }, { text: "å‘¨ã‚Šã®äººãŒä½¿ã„å§‹ã‚ãŸã‚‰è©¦ã—ã¦ã¿ã‚‹", scores: { communicator: 2, mypace: 2 } }, { text: "æœ¬å½“ã«å¿…è¦ã«ãªã£ãŸã‚‰ä½¿ã†", scores: { mypace: 3, writer: 1 } }] },
            { id: 2, question: "AIã‚’ä½¿ã£ã¦ä¸€ç•ªã‚„ã‚ŠãŸã„ã“ã¨ã¯ï¼Ÿ", answers: [{ text: "ç”»åƒã‚„å‹•ç”»ãªã©ã€ä½œå“ã‚’ä½œã‚ŠãŸã„", scores: { creator: 3, pioneer: 1 } }, { text: "æƒ…å ±ã‚’èª¿ã¹ãŸã‚Šã€åˆ†æã—ãŸã„", scores: { analyst: 3, learner: 2 } }, { text: "æ–‡ç« ã‚’æ›¸ã„ãŸã‚Šã€ç¿»è¨³ã—ãŸã„", scores: { writer: 3, communicator: 1 } }, { text: "ä½œæ¥­ã‚’è‡ªå‹•åŒ–ã—ã¦æ¥½ã«ã—ãŸã„", scores: { builder: 3, analyst: 1 } }] },
            { id: 3, question: "AIã«æ±‚ã‚ã‚‹ã‚‚ã®ã¯ï¼Ÿ", answers: [{ text: "ã¨ã«ã‹ãæ–°ã—ãã¦é¢ç™½ã„ä½“é¨“", scores: { pioneer: 3, creator: 2 } }, { text: "åŠ¹ç‡åŒ–ã¨æ™‚é–“ã®ç¯€ç´„", scores: { builder: 3, analyst: 2 } }, { text: "ã‚¯ãƒªã‚¨ã‚¤ãƒ†ã‚£ãƒ–ãªè¡¨ç¾ã®ã‚µãƒãƒ¼ãƒˆ", scores: { creator: 3, writer: 2 } }, { text: "å­¦ã³ã‚„æˆé•·ã®ãƒ‘ãƒ¼ãƒˆãƒŠãƒ¼", scores: { learner: 3, communicator: 1 } }] },
            { id: 4, question: "ã‚ã‹ã‚‰ãªã„ã“ã¨ãŒã‚ã£ãŸã¨ãã€ã©ã†ã™ã‚‹ï¼Ÿ", answers: [{ text: "ã¾ãšAIã«èã„ã¦ã¿ã‚‹", scores: { learner: 3, analyst: 1 } }, { text: "è‡ªåˆ†ã§èª¿ã¹ã¦ã‹ã‚‰ã€AIã‚‚å‚è€ƒã«ã™ã‚‹", scores: { analyst: 2, writer: 2, mypace: 1 } }, { text: "è©³ã—ã„äººã«èã„ã¦ã¿ã‚‹", scores: { communicator: 3, mypace: 1 } }, { text: "ã„ã‚ã„ã‚è©¦ã—ãªãŒã‚‰è§£æ±ºã™ã‚‹", scores: { pioneer: 2, builder: 2, creator: 1 } }] },
            { id: 5, question: "AIã‚’ä½¿ã£ãŸæˆæœã€ã©ã†ã—ãŸã„ï¼Ÿ", answers: [{ text: "SNSã§ã‚·ã‚§ã‚¢ã—ã¦åå¿œã‚’è¦‹ãŸã„", scores: { communicator: 3, creator: 2, pioneer: 1 } }, { text: "è‡ªåˆ†ã®ä½œå“ã¨ã—ã¦ã‚³ãƒ„ã‚³ãƒ„ç©ã¿ä¸Šã’ãŸã„", scores: { creator: 2, writer: 2, mypace: 2 } }, { text: "ä»•äº‹ã‚„å®Ÿç”¨çš„ãªã“ã¨ã«æ´»ã‹ã—ãŸã„", scores: { builder: 2, analyst: 2, writer: 1 } }, { text: "è‡ªåˆ†ã®å­¦ã³ã‚„æˆé•·ã«ç¹‹ã’ãŸã„", scores: { learner: 3, mypace: 1 } }] },
            { id: 6, question: "ä¼‘æ—¥ã®éã”ã—æ–¹ã¯ï¼Ÿ", answers: [{ text: "æ–°ã—ã„ãŠåº—ã‚„å ´æ‰€ã‚’é–‹æ‹“ã™ã‚‹", scores: { pioneer: 3, communicator: 1 } }, { text: "è¶£å‘³ã®å‰µä½œæ´»å‹•ã«æ²¡é ­ã™ã‚‹", scores: { creator: 3, writer: 2 } }, { text: "æœ¬ã‚’èª­ã‚“ã ã‚Šå‹‰å¼·ã—ãŸã‚Šã™ã‚‹", scores: { learner: 3, analyst: 1 } }, { text: "ã®ã‚“ã³ã‚Šãƒã‚¤ãƒšãƒ¼ã‚¹ã«éã”ã™", scores: { mypace: 3, builder: 1 } }] },
            { id: 7, question: "ãƒãƒ¼ãƒ ã§ä½œæ¥­ã™ã‚‹ã¨ãã€ã‚ãªãŸã®å½¹å‰²ã¯ï¼Ÿ", answers: [{ text: "æ–°ã—ã„ã‚¢ã‚¤ãƒ‡ã‚¢ã‚’å‡ºã™äºº", scores: { pioneer: 2, creator: 3 } }, { text: "æƒ…å ±ã‚’æ•´ç†ã—ã¦åˆ†æã™ã‚‹äºº", scores: { analyst: 3, builder: 1 } }, { text: "ã¿ã‚“ãªã®æ„è¦‹ã‚’ã¾ã¨ã‚ã‚‹äºº", scores: { communicator: 3, writer: 1 } }, { text: "é»™ã€…ã¨ä½œæ¥­ã‚’é€²ã‚ã‚‹äºº", scores: { builder: 2, mypace: 2, writer: 1 } }] },
            { id: 8, question: "AIã®å›ç­”ãŒé–“é•ã£ã¦ã„ãŸã‚‰ï¼Ÿ", answers: [{ text: "ã€Œã¸ãƒ¼ã€ã“ã†ã„ã†é–“é•ã„ã™ã‚‹ã‚“ã ã€ã¨èˆˆå‘³ã‚’æŒã¤", scores: { pioneer: 3, learner: 2 } }, { text: "ãªãœé–“é•ãˆãŸã‹åŸå› ã‚’åˆ†æã™ã‚‹", scores: { analyst: 3, builder: 1 } }, { text: "ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚’å·¥å¤«ã—ã¦æ­£ã—ã„ç­”ãˆã‚’å¼•ãå‡ºã™", scores: { writer: 2, creator: 2, builder: 1 } }, { text: "ã¾ã‚ãã†ã„ã†ã“ã¨ã‚‚ã‚ã‚‹ã‚ˆã­ã€ã¨æ°—ã«ã—ãªã„", scores: { mypace: 3, communicator: 1 } }] },
            { id: 9, question: "å‹é”ã«AIã‚’å‹§ã‚ã‚‹ãªã‚‰ã€ã©ã†è¨€ã†ï¼Ÿ", answers: [{ text: "ã€Œã“ã‚Œæœ€æ–°ã§é¢ç™½ã„ã‹ã‚‰è©¦ã—ã¦ã¿ã¦ï¼ã€", scores: { pioneer: 3, communicator: 2 } }, { text: "ã€Œã“ã†ã„ã†ä½¿ã„æ–¹ã™ã‚‹ã¨ä¾¿åˆ©ã ã‚ˆã€ã¨å…·ä½“çš„ã«æ•™ãˆã‚‹", scores: { builder: 2, analyst: 2, communicator: 1 } }, { text: "ã€Œç§ã¯ã“ã†ä½¿ã£ã¦ã‚‹ã‚ˆã€ã¨ä½“é¨“ã‚’å…±æœ‰ã™ã‚‹", scores: { communicator: 3, writer: 1 } }, { text: "èã‹ã‚ŒãŸã‚‰æ•™ãˆã‚‹ã‘ã©ã€ç©æ¥µçš„ã«ã¯å‹§ã‚ãªã„", scores: { mypace: 3, learner: 1 } }] },
            { id: 10, question: "AIã¨ã®ç†æƒ³ã®ä»˜ãåˆã„æ–¹ã¯ï¼Ÿ", answers: [{ text: "æœ€å…ˆç«¯ã‚’è¿½ã„ç¶šã‘ã‚‹ãƒ‘ãƒ¼ãƒˆãƒŠãƒ¼", scores: { pioneer: 3, analyst: 1 } }, { text: "ä¸€ç·’ã«ä½œå“ã‚’ä½œã‚‹ç›¸æ£’", scores: { creator: 3, writer: 1 } }, { text: "ãªã‚“ã§ã‚‚èã‘ã‚‹å…ˆç”Ÿ", scores: { learner: 3, communicator: 1 } }, { text: "å¿…è¦ãªã¨ãã«åŠ©ã‘ã¦ãã‚Œã‚‹ã‚¢ã‚·ã‚¹ã‚¿ãƒ³ãƒˆ", scores: { mypace: 3, builder: 2 } }] }
        ];

        const characterTypes = [
            { id: "frontrunner", name: "ãƒ•ãƒ­ãƒ³ãƒˆãƒ©ãƒ³ãƒŠãƒ¼å‹", image: "./char_frontrunner_v2.jpg", title: "æ™‚ä»£ã‚’é§†ã‘ã‚‹å…ˆé§†è€…", description: "æ–°ã—ã„æŠ€è¡“ã‚„ãƒˆãƒ¬ãƒ³ãƒ‰ã«èª°ã‚ˆã‚Šã‚‚æ—©ãé£›ã³ã¤ãã‚¿ã‚¤ãƒ—ã€‚å¤±æ•—ã‚’æã‚Œãšã«æŒ‘æˆ¦ã™ã‚‹å§¿å‹¢ã¯ã€å‘¨ã‚Šã®äººã€…ã‚’ã‚¤ãƒ³ã‚¹ãƒ‘ã‚¤ã‚¢ã—ã¾ã™ã€‚2026å¹´ã¯ã€ãã®è¡Œå‹•åŠ›ãŒå¤§ããªæˆæœã‚’ç”Ÿã‚€å¹´ã«ãªã‚‹ã§ã—ã‚‡ã†ã€‚", detailedTraits: ["å¥½å¥‡å¿ƒãŒæ—ºç››ã§å³æ–­å³æ±º", "æ–°ã—ã„ã‚‚ã®å¥½ã", "ãƒªã‚¹ã‚¯ã‚’å–ã‚‹ã“ã¨ã‚’æã‚Œãªã„", "å‘¨ã‚Šã‚’å·»ãè¾¼ã‚€ã‚¨ãƒãƒ«ã‚®ãƒ¼ãŒã‚ã‚‹", "é£½ãã£ã½ã„ä¸€é¢ã‚‚"], strengths: ["åœ§å€’çš„ãªè¡Œå‹•åŠ›", "æƒ…å ±æ„Ÿåº¦ã®é«˜ã•", "å¤‰åŒ–ã¸ã®é©å¿œåŠ›", "ã‚«ãƒªã‚¹ãƒæ€§"], weaknesses: ["è©³ç´°ã‚’è©°ã‚ã‚‹ã®ãŒè‹¦æ‰‹", "ç¶™ç¶šåŠ›ãŒèª²é¡Œ", "ã‚³ã‚¹ãƒˆåº¦å¤–è¦–ã«ãªã‚ŠãŒã¡"], luckyAITools: ["ChatGPT", "Claude", "Midjourney"], advice2026: "ã€Œã¨ã‚Šã‚ãˆãšã‚„ã£ã¦ã¿ã‚‹ã€ç²¾ç¥ãŒæœ€å¼·ã®æ­¦å™¨ã€‚ãŸã ã—ã€æ¬¡ã€…ã¨æµ®ã‹ã¶ã‚¢ã‚¤ãƒ‡ã‚¢ã‚’æ•´ç†ã—ã€ç€å®Ÿã«å®Ÿè¡Œã—ã¦ãã‚Œã‚‹ãƒ‘ãƒ¼ãƒˆãƒŠãƒ¼ã‚’è¦‹ã¤ã‘ã‚‹ã¨ã€æˆæœãŒæœ€å¤§åŒ–ã—ã¾ã™ã€‚" },
            { id: "artist", name: "ã‚¢ãƒ¼ãƒ†ã‚£ã‚¹ãƒˆå‹", image: "./char_artist_v2.jpg", title: "æ„Ÿæ€§è±Šã‹ãªå‰µé€ ä¸»", description: "AIã‚’ã€Œç”»æã€ã‚„ã€Œæ¥½å™¨ã€ã®ã‚ˆã†ã«ä½¿ã„ã“ãªã—ã€ç‹¬è‡ªã®è¡¨ç¾ã‚’è¿½æ±‚ã™ã‚‹ã‚¿ã‚¤ãƒ—ã€‚ã‚ãªãŸã®ä½œã‚Šå‡ºã™ä¸–ç•Œè¦³ã¯ã€AIã¨äººé–“ã®å…±å‰µã®ç¾ã—ã•ã‚’ä½“ç¾ã—ã¦ã„ã¾ã™ã€‚", detailedTraits: ["ç¾æ„è­˜ãŒé«˜ã„", "ç‹¬è‡ªã®ã“ã ã‚ã‚ŠãŒã‚ã‚‹", "æ„Ÿæƒ…ã‚„ãƒ‹ãƒ¥ã‚¢ãƒ³ã‚¹ã‚’å¤§åˆ‡ã«ã™ã‚‹", "AIã®å‡ºåŠ›ã«ã€Œé­‚ã€ã‚’è¾¼ã‚ã‚ˆã†ã¨ã™ã‚‹", "è«–ç†ã‚ˆã‚Šç›´æ„Ÿé‡è¦–"], strengths: ["ç‹¬è‡ªã®ä¸–ç•Œè¦³", "è¡¨ç¾åŠ›ã®é«˜ã•", "äººã®å¿ƒã‚’å‹•ã‹ã™åŠ›", "å¯©ç¾çœ¼"], weaknesses: ["è«–ç†çš„èª¬æ˜ãŒè‹¦æ‰‹", "ã“ã ã‚ã‚Šã™ãã¦å®ŒæˆãŒé…ã‚Œã‚‹", "æ‰¹åˆ¤ã«æ•æ„Ÿ"], luckyAITools: ["Midjourney", "Suno", "Runway"], advice2026: "AIã¯ã‚ãªãŸã®å‰µé€ æ€§ã‚’æ‹¡å¼µã™ã‚‹ã€Œé­”æ³•ã®æ–ã€ã€‚æŠ€è¡“çš„ãªæ­£ç¢ºã•ã‚ˆã‚Šã‚‚ã€ã‚ãªãŸè‡ªèº«ã®ã€Œå¥½ãã€ã‚„ã€Œé•å’Œæ„Ÿã€ã‚’å¤§åˆ‡ã«ã™ã‚‹ã“ã¨ã§ã€å”¯ä¸€ç„¡äºŒã®ä½œå“ãŒç”Ÿã¾ã‚Œã¾ã™ã€‚" },
            { id: "strategist", name: "ã‚¹ãƒˆãƒ©ãƒ†ã‚¸ã‚¹ãƒˆå‹", image: "./char_strategist_v2.jpg", title: "å†·å¾¹ãªã‚‹å‚è¬€", description: "AIã‚’åˆ†æã‚„åŠ¹ç‡åŒ–ã®æ­¦å™¨ã¨ã—ã¦æœ€å¤§é™ã«æ´»ç”¨ã™ã‚‹ã‚¿ã‚¤ãƒ—ã€‚è†¨å¤§ãªãƒ‡ãƒ¼ã‚¿ã‹ã‚‰æ³•å‰‡ã‚’è¦‹å‡ºã—ã€æœ€çŸ­ãƒ«ãƒ¼ãƒˆã§æˆæœã‚’å‡ºã™ã“ã¨ã«é•·ã‘ã¦ã„ã¾ã™ã€‚", detailedTraits: ["è«–ç†çš„æ€è€ƒãŒå¾—æ„", "åŠ¹ç‡åŒ–ã‚ªã‚¿ã‚¯", "æ•°å­—ã‚„ãƒ‡ãƒ¼ã‚¿ãŒå¥½ã", "æ„Ÿæƒ…ã«æµã•ã‚Œãªã„åˆ¤æ–­åŠ›", "è¨ˆç”»çš„ã§æ…é‡"], strengths: ["å•é¡Œè§£æ±ºèƒ½åŠ›", "æ§‹é€ åŒ–ãƒ»ä½“ç³»åŒ–", "ãƒªã‚¹ã‚¯ç®¡ç†", "å®¢è¦³æ€§"], weaknesses: ["çªç™ºçš„ãªå¤‰åŒ–ã«å¼±ã„", "ç†å±ˆã£ã½ããªã‚‹", "ç›´æ„Ÿçš„ãªåˆ¤æ–­ã‚’è»½è¦–"], luckyAITools: ["Perplexity", "Julius AI", "Notion AI"], advice2026: "AIã¸ã®æŒ‡ç¤ºå‡ºã—ï¼ˆãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ãƒªãƒ³ã‚°ï¼‰ã®ã‚¹ã‚­ãƒ«ã¯éšä¸€ã€‚AIãŒå‡ºã—ãŸç­”ãˆã‚’ã€Œç–‘ã†ã€è¦–ç‚¹ã‚’æŒã¤ã“ã¨ã§ã€ã‚ˆã‚Šç²¾åº¦ã®é«˜ã„æ„æ€æ±ºå®šãŒã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚" },
            { id: "influencer", name: "ã‚¤ãƒ³ãƒ•ãƒ«ã‚¨ãƒ³ã‚µãƒ¼å‹", image: "./char_influencer_v2.jpg", title: "å…±æ„Ÿã‚’å‘¼ã¶ä¼é“å¸«", description: "AIã®ä¾¿åˆ©ã•ã‚„é¢ç™½ã•ã‚’ã€èª°ã«ã§ã‚‚ã‚ã‹ã‚‹è¨€è‘‰ã§ç¿»è¨³ã—ã¦åºƒã‚ã‚‹ã‚¿ã‚¤ãƒ—ã€‚äººã¨äººã€äººã¨AIã‚’ç¹‹ããƒãƒ–ã¨ã—ã¦ã€ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£ã®ä¸­å¿ƒã«ãªã‚Šã¾ã™ã€‚", detailedTraits: ["ã‚³ãƒŸãƒ¥ãƒ‹ã‚±ãƒ¼ã‚·ãƒ§ãƒ³èƒ½åŠ›ãŒé«˜ã„", "æ•™ãˆä¸Šæ‰‹ãƒ»è¤’ã‚ä¸Šæ‰‹", "ãƒˆãƒ¬ãƒ³ãƒ‰ã‚’å™›ã¿ç •ãã®ãŒå¾—æ„", "äººã¨ã®ç¹‹ãŒã‚Šã‚’å¤§åˆ‡ã«ã™ã‚‹", "åºƒãæµ…ãçŸ¥ã£ã¦ã„ã‚‹"], strengths: ["æ‹¡æ•£åŠ›ãƒ»ç™ºä¿¡åŠ›", "è¦ªã—ã¿ã‚„ã™ã•", "ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚­ãƒ³ã‚°", "å…±æ„ŸåŠ›"], weaknesses: ["æƒ…å ±ã®æ­£ç¢ºã•ãŒç”˜ã„ã“ã¨ã‚‚", "å…«æ–¹ç¾äººã«ãªã‚ŠãŒã¡", "æ·±ã„æŠ€è¡“ç†è§£ã¯è‹¦æ‰‹"], luckyAITools: ["Canva", "Gamma", "Claude"], advice2026: "ã‚ãªãŸã®è¨€è‘‰ã«ã¯ã€AIã¸ã®ã€Œææ€–å¿ƒã€ã‚’ã€Œãƒ¯ã‚¯ãƒ¯ã‚¯ã€ã«å¤‰ãˆã‚‹åŠ›ãŒã‚ã‚Šã¾ã™ã€‚é›£ã—ã„å°‚é–€ç”¨èªã‚’ä½¿ã‚ãšã€å®Ÿä½“é¨“ã«åŸºã¥ã„ãŸã‚¹ãƒˆãƒ¼ãƒªãƒ¼ã‚’èªã‚‹ã“ã¨ãŒæˆåŠŸã®éµã§ã™ã€‚" }
        ];

        const fortuneMessages = {
            "å¤§å‰": ["2026å¹´ã€AIã¨ã®ç›¸æ€§ã¯æœ€é«˜æ½®ï¼ç›´æ„Ÿã‚’ä¿¡ã˜ã¦æ–°ã—ã„ã“ã¨ã«æŒ‘æˆ¦ã™ã‚‹ã¨ã€æ€ã‚ã¬å¹¸é‹ãŒèˆã„è¾¼ã¿ã¾ã™ã€‚", "å·³å¹´ã®ã‚¨ãƒãƒ«ã‚®ãƒ¼ãŒã‚ãªãŸã‚’å¾ŒæŠ¼ã—ï¼AIæ´»ç”¨ã§å¤§ããªé£›èºãŒã§ãã‚‹å¹´ã«ãªã‚Šãã†ã€‚", "çµ¶å¥½èª¿ã®ä¸€å¹´ï¼AIã‚’å‘³æ–¹ã«ã¤ã‘ã¦ã€å‘¨ã‚Šã‚’é©šã‹ã›ã‚‹ã‚ˆã†ãªæˆæœã‚’ä¸Šã’ã‚‰ã‚Œã‚‹ã§ã—ã‚‡ã†ã€‚"],
            "ä¸­å‰": ["2026å¹´ã¯ç€å®Ÿã«æˆé•·ã§ãã‚‹å¹´ã€‚ç„¦ã‚‰ãšAIã¨å‘ãåˆã†ã“ã¨ã§ã€ç¢ºã‹ãªæ‰‹å¿œãˆã‚’æ„Ÿã˜ã‚‰ã‚Œã¾ã™ã€‚", "é †èª¿ãªä¸€å¹´ã®äºˆæ„Ÿã€‚ã‚³ãƒ„ã‚³ãƒ„ã¨AIæ´»ç”¨ã‚’ç¶šã‘ã‚‹ã“ã¨ã§ã€æ°—ã¥ã‘ã°å¤§ããªæˆæœã«ã€‚", "ãƒãƒ©ãƒ³ã‚¹ã®å–ã‚ŒãŸä¸€å¹´ã€‚æ–°ã—ã„æŒ‘æˆ¦ã¨å®‰å®šã®ä¸¡ç«‹ã§ã€å……å®Ÿã—ãŸå¹´ã«ãªã‚Šãã†ã€‚"],
            "å‰": ["2026å¹´ã¯å­¦ã³ã®å¹´ã€‚AIã‚’é€šã˜ã¦æ–°ã—ã„ç™ºè¦‹ãŒã‚ã‚Šã€è¦–é‡ãŒåºƒãŒã‚Šã¾ã™ã€‚", "ç©ã‚„ã‹ãªãŒã‚‰ã‚‚å®Ÿã‚Šã‚ã‚‹ä¸€å¹´ã€‚è‡ªåˆ†ã®ãƒšãƒ¼ã‚¹ã§AIã‚’æ¥½ã—ã‚€ã®ãŒãƒ©ãƒƒã‚­ãƒ¼ã®éµã€‚", "æˆé•·ã®ãã£ã‹ã‘ãŒè¨ªã‚Œã‚‹å¹´ã€‚AIã‚’ãã£ã‹ã‘ã«æ–°ã—ã„å‡ºä¼šã„ãŒã‚ã‚‹ã‹ã‚‚ã€‚"],
            "å°å‰": ["2026å¹´ã¯åœŸå°ã‚’å›ºã‚ã‚‹å¹´ã€‚ç„¦ã‚‰ãšåŸºç¤ã‹ã‚‰AIã‚’å­¦ã¶ã¨ã€æ¥å¹´ä»¥é™ã«å¤§ããèŠ±é–‹ãã¾ã™ã€‚", "ãƒã‚¤ãƒšãƒ¼ã‚¹ãŒå‰ã€‚å‘¨ã‚Šã¨æ¯”ã¹ãšã€è‡ªåˆ†ã‚‰ã—ã„AIæ´»ç”¨ã‚’è¦‹ã¤ã‘ã‚‹ä¸€å¹´ã«ã€‚", "ã˜ã£ãã‚Šå–ã‚Šçµ„ã‚€å¹´ã€‚æ€¥ãŒã°å›ã‚Œã®ç²¾ç¥ã§ã€ç€å®Ÿã«ã‚¹ã‚­ãƒ«ã‚¢ãƒƒãƒ—ã§ãã¾ã™ã€‚"]
        };

        const luckyElements = {
            months: ["1æœˆ", "2æœˆ", "3æœˆ", "4æœˆ", "5æœˆ", "6æœˆ", "7æœˆ", "8æœˆ", "9æœˆ", "10æœˆ", "11æœˆ", "12æœˆ"],
            colors: ["é‡‘è‰²", "èµ¤", "é’", "ç·‘", "ç´«", "ã‚ªãƒ¬ãƒ³ã‚¸", "ãƒ”ãƒ³ã‚¯", "ç™½"],
            actions: ["æ–°ã—ã„AIãƒ„ãƒ¼ãƒ«ã‚’è©¦ã™", "AIã«ã¤ã„ã¦ç™ºä¿¡ã™ã‚‹", "AIã§ä½œå“ã‚’ä½œã‚‹", "AIã§å­¦ç¿’ã‚’å§‹ã‚ã‚‹", "AIã‚’ä½¿ã£ã¦è‡ªå‹•åŒ–ã™ã‚‹", "AIã®æƒ…å ±ã‚’èª°ã‹ã¨å…±æœ‰ã™ã‚‹", "AIã§æ–‡ç« ã‚’æ›¸ã„ã¦ã¿ã‚‹", "AIã«ã˜ã£ãã‚Šè³ªå•ã™ã‚‹"]
        };

        // --- APP LOGIC ---
        let state = {
            screen: 'start', // start, question, reveal, result
            qIndex: 0,
            answers: [],
            answerIndices: [],
            result: null
        };

        const app = document.getElementById('app');

        function render() {
            app.innerHTML = '';

            if (state.screen === 'start') {
                renderStartScreen();
            } else if (state.screen === 'question') {
                renderQuestionScreen();
            } else if (state.screen === 'reveal') {
                renderRevealScreen();
            } else if (state.screen === 'result') {
                renderResultScreen();
            }

            window.scrollTo(0, 0);
        }

        function startGame() {
            state = { screen: 'question', qIndex: 0, answers: [], answerIndices: [], result: null };
            render();
        }

        function selectAnswer(score, idx) {
            state.answers.push(score);
            state.answerIndices.push(idx);

            if (state.qIndex < questions.length - 1) {
                state.qIndex++;
                render(); // Re-render for next question
            } else {
                calculateDiagnosis();
            }
        }

        function calculateDiagnosis() {
            // Logic form diagnosis.ts
            const scores = { frontrunner: 0, artist: 0, strategist: 0, influencer: 0 };
            state.answers.forEach(ans => {
                Object.entries(ans).forEach(([trait, val]) => {
                    if (["pioneer", "learner"].includes(trait)) scores.frontrunner += val;
                    else if (["creator", "mypace"].includes(trait)) scores.artist += val;
                    else if (["analyst", "builder"].includes(trait)) scores.strategist += val;
                    else if (["communicator", "writer"].includes(trait)) scores.influencer += val;
                });
            });

            let topChar = characterTypes[0], max = -1;
            let winners = [];
            characterTypes.forEach(c => {
                if (scores[c.id] > max) { max = scores[c.id]; winners = [c]; }
                else if (scores[c.id] === max) { winners.push(c); }
            });
            const seed = state.answerIndices.reduce((a, b) => a + b, 0);
            const winner = winners[seed % winners.length];

            // Fortune
            let fScore = 0;
            state.answerIndices.forEach((idx, i) => {
                fScore += (3 - idx) * 2;
                if (i === 0 || i === 5) fScore += (3 - idx);
            });
            if (new Set(state.answerIndices).size >= 3) fScore += 4;
            if (state.answerIndices[5] === 0 || state.answerIndices[5] === 1) fScore += 2;

            let fortune = "å°å‰";
            if (fScore >= 28) fortune = "å¤§å‰";
            else if (fScore >= 20) fortune = "ä¸­å‰";
            else if (fScore >= 12) fortune = "å‰";

            // Details
            const mIdx = (state.answerIndices[0] + state.answerIndices[1] + state.answerIndices[2]) % luckyElements.months.length;
            const cIdx = (state.answerIndices[2] + state.answerIndices[3] + state.answerIndices[4]) % luckyElements.colors.length;
            const aIdx = (state.answerIndices[1] + state.answerIndices[4] + state.answerIndices[5]) % luckyElements.actions.length;
            const msgIdx = (state.answerIndices[0] + state.answerIndices[5]) % fortuneMessages[fortune].length;

            state.result = {
                character: winner,
                fortuneDetail: {
                    fortune: fortune,
                    luckyMonth: luckyElements.months[mIdx],
                    luckyColor: luckyElements.colors[cIdx], // Ensure color name
                    luckyAction: luckyElements.actions[aIdx],
                    fortuneMessage: fortuneMessages[fortune][msgIdx]
                }
            };
            state.screen = 'reveal';
            render();
        }

        function showResult() {
            state.screen = 'result';
            render();
        }

        // --- RENDERERS ---

        function renderStartScreen() {
            const div = document.createElement('div');
            div.className = "flex-1 flex flex-col items-center justify-center text-center p-6 relative w-full min-h-[85vh] overflow-hidden fade-in";
            div.innerHTML = `
                <!-- Background Circle -->
                <div class="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[600px] h-[600px] bg-[#c92a2a] opacity-5 rounded-full blur-3xl pointer-events-none"></div>

                <div class="w-full max-w-lg relative z-10">
                    <!-- Vertical Text -->
                    <div class="absolute top-0 -left-6 md:-left-12 opacity-80 hidden md:block">
                        <div class="text-vertical text-lg tracking-[0.5em] font-serif text-ny-gold-dark h-full">
                            ä»¤å’Œå…«å¹´ãƒ»äºŒã€‡äºŒå…­
                        </div>
                    </div>

                    <div class="card-festive p-8 md:p-12 relative flex flex-col items-center border-t-8 border-t-ny-red">
                        <!-- Mizuhiki Top -->
                        <div class="text-ny-gold mb-4 opacity-80">
                            <svg width="40" height="20" viewBox="0 0 40 20" class="mx-auto"><path d="M0 10 Q20 20 40 10" fill="none" stroke="currentColor" stroke-width="2" /><path d="M0 10 Q20 0 40 10" fill="none" stroke="currentColor" stroke-width="2" /></svg>
                        </div>
                        
                        <h1 class="text-4xl md:text-6xl font-black text-ny-navy mb-2 font-serif tracking-tight leading-tight">
                            <span class="block text-xl md:text-2xl text-ny-red mb-2 tracking-widest font-normal">æ–°æ˜¥ç‰¹åˆ¥ä¼ç”»</span>
                            AIã‚­ãƒ£ãƒ©<br />è¨ºæ–­
                        </h1>
                        <div class="w-16 h-1 bg-gradient-to-r from-transparent via-ny-gold to-transparent mb-8"></div>

                        <!-- Mascot -->
                        <div class="relative w-64 h-64 mx-auto mb-10 group">
                             <div class="relative w-full h-full rounded-full overflow-hidden border-4 border-white shadow-2xl z-10 bg-white">
                                <img src="./mascot.jpg" alt="Mascot" class="object-cover object-top w-full h-full hover:scale-105 transition-transform duration-500">
                             </div>
                             <div class="absolute -bottom-4 -right-4 w-12 h-12 bg-white rounded-full flex items-center justify-center shadow-md border border-gray-100 text-3xl z-20 animate-bounce-gentle">ğŸ</div>
                             <div class="absolute -top-2 -left-2 w-10 h-10 bg-white rounded-full flex items-center justify-center shadow-md border border-gray-100 text-2xl z-20 animate-bounce-gentle" style="animation-delay: 1s;">ğŸŒ¸</div>
                        </div>

                        <p class="text-gray-700 font-medium mb-10 leading-loose">
                            ã‚ã‘ã¾ã—ã¦ãŠã‚ã§ã¨ã†ã”ã–ã„ã¾ã™ã€‚<br />
                            2026å¹´ã®ã‚ãªãŸã®é‹å‹¢ã¨ã€<br />
                            <strong class="text-ny-red bg-orange-50 px-1 text-lg">AIæ´»ç”¨ã‚¹ã‚¿ã‚¤ãƒ«</strong>ã‚’å ã„ã¾ã™ã€‚
                        </p>

                        <button onclick="startGame()" class="btn-festive-primary w-full group">
                            <span class="text-2xl font-serif">è¨ºæ–­ã‚’å§‹ã‚ã‚‹</span>
                        </button>
                    </div>
                </div>
                <footer class="mt-12 text-ny-navy/60 text-xs tracking-widest font-serif">Â© 2026 NEW YEAR AI PROJECT</footer>
            `;
            app.appendChild(div);
        }

        function renderQuestionScreen() {
            const q = questions[state.qIndex];
            const progress = ((state.qIndex + 1) / questions.length) * 100;

            const div = document.createElement('div');
            div.className = "flex-1 flex flex-col max-w-xl mx-auto w-full py-8 px-4 font-serif fade-in";
            div.innerHTML = `
                <div class="flex items-center justify-between mb-8 opacity-90">
                    <div class="flex flex-col">
                        <span class="text-xs tracking-widest text-ny-navy mb-1">AI CHARACTER DIAGNOSIS</span>
                        <h2 class="text-2xl font-black text-ny-navy flex items-baseline gap-2">
                            <span class="text-sm font-normal">ç¬¬</span><span class="text-4xl text-ny-red font-serif">${state.qIndex + 1}</span><span class="text-sm font-normal">å•</span>
                        </h2>
                    </div>
                    <div class="w-32 h-1 bg-gray-200 rounded-full overflow-hidden"><div class="h-full bg-ny-red transition-all duration-300" style="width: ${progress}%"></div></div>
                </div>

                <div class="bg-white border-t-4 border-ny-red border-b border-x border-gray-200 shadow-xl p-8 mb-8 relative rounded-sm">
                    <div class="absolute -top-6 left-1/2 -translate-x-1/2 w-1 h-6 bg-ny-red"></div>
                    <div class="absolute -top-8 left-1/2 -translate-x-1/2 w-4 h-4 rounded-full border-2 border-ny-red bg-ny-cream"></div>
                    <h2 class="text-xl md:text-2xl font-medium text-ny-navy leading-relaxed text-center tracking-wide">${q.question}</h2>
                    <div class="absolute bottom-0 left-0 w-full h-2 opacity-10 bg-[url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIxMCI+CjxwYXRoIGQ9Ik0wLDEwIEM1LDEwIDUsNSAxMCw1IEMxNSw1IDE1LDEwIDIwLDEwIiBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAiIHN0cm9rZS13aWR0aD0iMSIvPgo8L3N2Zz4=')]"></div>
                </div>

                <div class="space-y-4">
                    ${q.answers.map((ans, i) => `
                        <button onclick='selectAnswer(${JSON.stringify(ans.scores)}, ${i})' 
                                class="group w-full bg-white border border-gray-200 hover:border-ny-gold rounded-lg p-5 text-left shadow-sm hover:shadow-md transition-all duration-300 relative overflow-hidden flex items-center gap-5">
                            <div class="flex-shrink-0 w-8 h-8 rounded-full border border-ny-navy text-ny-navy font-serif flex items-center justify-center text-sm group-hover:bg-ny-navy group-hover:text-white transition-colors">${i + 1}</div>
                            <span class="font-medium text-gray-800 text-lg flex-1 tracking-wide group-hover:text-ny-navy">${ans.text}</span>
                        </button>
                    `).join('')}
                </div>
            `;
            app.appendChild(div);
        }

        function renderRevealScreen() {
            const div = document.createElement('div');
            div.className = "flex-1 flex flex-col items-center justify-center p-6 text-center w-full h-full min-h-[70vh] fade-in";
            div.innerHTML = `
                <div class="mb-8 cursor-pointer relative animate-float" onclick="showResult()">
                    <div class="text-[100px] md:text-[120px] filter drop-shadow-xl">ğŸ§§</div>
                    <div class="absolute top-0 right-0 text-4xl animate-bounce">âœ¨</div>
                </div>
                <h2 class="text-xl md:text-2xl font-black text-ny-navy mb-6 bg-white border-2 border-ny-navy px-8 py-3 rounded-full shadow font-serif">
                    è¨ºæ–­çµæœãŒå±Šã„ã¦ã„ã¾ã™ï¼
                </h2>
                <button onclick="showResult()" class="btn-festive-primary w-full max-w-xs font-serif text-xl">
                    é–‹å°ã™ã‚‹
                </button>
            `;
            app.appendChild(div);
        }

        function renderResultScreen() {
            const r = state.result;
            const c = r.character;
            const f = r.fortuneDetail;

            const div = document.createElement('div');
            div.className = "flex-1 w-full max-w-2xl mx-auto pb-48 px-4 font-serif fade-in";

            // Helper for color logic
            const getCssColor = (name) => {
                const map = { "é‡‘è‰²": "#FFD700", "èµ¤": "#ff2a2a", "é’": "#2196F3", "ç·‘": "#4CAF50", "ç´«": "#9C27B0", "ã‚ªãƒ¬ãƒ³ã‚¸": "#FF9800", "ãƒ”ãƒ³ã‚¯": "#E91E63", "ç™½": "#FFFFFF" };
                return map[name] || "#999999";
            };

            div.innerHTML = `
                <!-- Fortune Card -->
                <div class="bg-ny-cream border-4 border-ny-red p-1 mb-8 shadow-lg relative rounded-sm mx-auto max-w-md md:max-w-full">
                    <div class="border border-ny-red p-6 flex flex-col items-center justify-center relative">
                        <!-- Corners -->
                        <div class="absolute top-2 left-2 w-4 h-4 border-t-2 border-l-2 border-ny-red"></div>
                        <div class="absolute top-2 right-2 w-4 h-4 border-t-2 border-r-2 border-ny-red"></div>
                        <div class="absolute bottom-2 left-2 w-4 h-4 border-b-2 border-l-2 border-ny-red"></div>
                        <div class="absolute bottom-2 right-2 w-4 h-4 border-b-2 border-r-2 border-ny-red"></div>

                        <h3 class="text-center text-ny-navy font-black text-lg mb-6 tracking-[0.3em] border-b border-gray-300 pb-2">äºŒã€‡äºŒå…­å¹´ é‹å‹¢</h3>
                        <div class="text-center mb-8">
                            <div class="inline-block px-12 py-4 bg-white border-4 border-ny-red shadow-[6px_6px_0_0_rgba(201,42,42,0.2)]">
                                <span class="text-6xl md:text-8xl font-black text-ny-red tracking-widest leading-none">${f.fortune}</span>
                            </div>
                        </div>
                        <div class="grid grid-cols-1 gap-4 w-full">
                            <div class="flex flex-col items-center justify-center p-4 bg-red-50 rounded-xl border border-red-100 text-center">
                                <span class="text-xs font-bold text-red-500 uppercase tracking-widest mb-1">ãƒ©ãƒƒã‚­ãƒ¼æœˆ</span>
                                <span class="text-3xl font-black text-ny-navy">${f.luckyMonth}</span>
                            </div>
                            <div class="grid grid-cols-2 gap-4">
                                <div class="flex flex-col items-center justify-center p-4 bg-yellow-50 rounded-xl border border-yellow-100 text-center">
                                    <span class="text-xs font-bold text-yellow-600 uppercase tracking-widest mb-1">ãƒ©ãƒƒã‚­ãƒ¼ã‚«ãƒ©ãƒ¼</span>
                                    <div class="flex items-center justify-center gap-2 mt-1">
                                        <div class="w-5 h-5 rounded-full shadow-sm border border-gray-200" style="background-color: ${getCssColor(f.luckyColor)}"></div>
                                        <span class="text-xl font-black text-ny-navy">${f.luckyColor}</span>
                                    </div>
                                </div>
                                <div class="flex flex-col items-center justify-center p-4 bg-blue-50 rounded-xl border border-blue-100 text-center">
                                    <span class="text-xs font-bold text-blue-600 uppercase tracking-widest mb-1">ãƒ©ãƒƒã‚­ãƒ¼ã‚¢ã‚¯ã‚·ãƒ§ãƒ³</span>
                                    <span class="text-sm md:text-base font-black text-ny-navy leading-tight mt-1">${f.luckyAction}</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Character Hero -->
                <div class="card-festive mb-8 p-0 border-ny-navy border-4 shadow-2xl">
                    <div class="bg-ny-navy text-white text-center py-3 font-bold tracking-[0.2em] border-b-4 border-ny-red text-sm md:text-base relative overflow-hidden">
                        <span class="relative z-10">ä»¤å’Œå…«å¹´ æ–°æ˜¥AIè¨ºæ–­</span>
                    </div>
                    <div class="p-6 md:p-10 flex flex-col items-center text-center relative" style="background-image: url('https://www.transparenttextures.com/patterns/cream-paper.png');">
                        <div class="inline-block bg-ny-red text-white px-6 py-1 rounded-full font-black mb-4 text-xs tracking-widest shadow-md">ã‚ãªãŸã®ã‚¿ã‚¤ãƒ—</div>
                        <h2 class="text-4xl md:text-5xl font-black text-ny-navy mb-4 leading-tight tracking-tight">${c.name}</h2>
                        <div class="text-lg md:text-xl font-bold text-ny-red mb-8 border-b border-gray-200 pb-2 tracking-widest">${c.title}</div>
                        <div class="w-64 h-64 md:w-80 md:h-80 relative mb-8">
                             <!-- Glow -->
                             <div class="absolute inset-0 bg-ny-gold rounded-full blur-3xl opacity-20 animate-pulse-slow"></div>
                             <img src="${c.image}" alt="${c.name}" class="relative w-full h-full object-contain filter drop-shadow-xl hover:scale-105 transition-transform duration-500">
                        </div>
                        <p class="text-ny-navy font-bold leading-loose text-center text-base md:text-lg bg-white/95 p-8 rounded-xl border-2 border-ny-gold shadow-md relative z-10">${c.description}</p>
                    </div>
                </div>

                <!-- Traits -->
                <div class="card-festive p-8 mb-8 relative overflow-hidden">
                    <div class="flex items-center gap-4 mb-6 pb-2 border-b border-gray-200">
                        <img src="./sticker_traits_v2.jpg" alt="Traits" class="w-24 h-24 object-contain -ml-2 filter drop-shadow-md">
                        <h3 class="font-black text-ny-navy text-lg tracking-widest mt-2">ã‚ãªãŸã®ç‰¹å¾´</h3>
                    </div>
                    <ul class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        ${c.detailedTraits.map(t => `<li class="flex items-center gap-3 bg-ny-cream p-3 rounded-lg border border-gray-200"><span class="text-ny-red font-bold">âœ”</span><span class="text-ny-navy font-bold text-sm">${t}</span></li>`).join('')}
                    </ul>
                </div>

                <!-- Strengths / Weaknesses -->
                <div class="card-festive p-8 mb-8 bg-[#fcfcfc] shadow-sm">
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-10">
                        <div>
                            <div class="flex items-center gap-3 mb-6 pb-2 border-b border-gray-200">
                                <img src="./sticker_good.png" class="w-8 h-8 object-contain">
                                <h3 class="font-black text-ny-navy text-lg tracking-widest">é•·æ‰€ãƒ»å¼·ã¿</h3>
                            </div>
                            <ul class="space-y-4">${c.strengths.map(s => `<li class="flex items-start gap-3 text-gray-700 text-sm"><span class="text-ny-gold mt-0.5 text-lg">âœ¦</span><span class="font-bold border-b border-gray-100 pb-1 w-full">${s}</span></li>`).join('')}</ul>
                        </div>
                        <div>
                             <div class="flex items-center gap-3 mb-6 pb-2 border-b border-gray-200">
                                <img src="./sticker_careful.png" class="w-8 h-8 object-contain">
                                <h3 class="font-black text-ny-red text-lg tracking-widest">æ³¨æ„ç‚¹</h3>
                            </div>
                            <ul class="space-y-4">${c.weaknesses.map(w => `<li class="flex items-start gap-3 text-gray-700 text-sm"><span class="text-ny-red mt-0.5 text-lg">âš </span><span class="font-bold border-b border-gray-100 pb-1 w-full">${w}</span></li>`).join('')}</ul>
                        </div>
                    </div>
                </div>

                <!-- Advice -->
                <div class="card-festive p-6 flex flex-col md:flex-row items-start md:items-center gap-6 border-l-8 border-l-ny-red mb-8">
                     <img src="./sticker_advice.png" class="w-24 h-24 object-contain -ml-2 filter drop-shadow-md">
                     <div>
                        <h3 class="font-black text-ny-red text-lg mb-2 flex items-center gap-2"><span class="w-2 h-2 bg-ny-red rounded-full"></span>2026å¹´é–‹é‹ã‚¢ãƒ‰ãƒã‚¤ã‚¹</h3>
                        <p class="font-bold text-gray-700 leading-relaxed text-sm">${c.advice2026}</p>
                     </div>
                </div>

                <!-- Tools -->
                <div class="card-festive p-8 relative overflow-hidden">
                    <div class="flex items-center gap-4 mb-6 relative z-10 border-b border-gray-200 pb-2">
                         <img src="./sticker_tools_v2.png" class="w-24 h-24 object-contain -ml-2 filter drop-shadow-md">
                         <h3 class="font-black text-ny-navy text-xl tracking-widest mt-2">ãƒ©ãƒƒã‚­ãƒ¼AIãƒ„ãƒ¼ãƒ«</h3>
                    </div>
                    <div class="flex flex-wrap gap-3 relative z-10">
                        ${c.luckyAITools.map(t => `<span class="bg-ny-navy text-white px-5 py-3 rounded-full font-bold shadow-md">${t}</span>`).join('')}
                    </div>
                </div>

                <!-- Actions -->
                <div class="flex flex-col gap-4 mt-12 sticky bottom-6 z-30">
                    <button onclick="shareResult('${c.name}', '${f.fortune}')" class="btn-festive-primary w-full shadow-[0_4px_15px_rgba(201,42,42,0.4)] bg-black border-black text-white hover:bg-gray-800">
                         <svg class="w-5 h-5 mr-2 fill-current" viewBox="0 0 24 24"><path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"/></svg>
                         Xã§çµæœã‚’ã‚·ã‚§ã‚¢
                    </button>
                    <button onclick="startGame()" class="btn-festive-secondary w-full py-4 text-gray-800 bg-white/90 backdrop-blur-md border-gray-400">
                         <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-5 h-5 mr-2"><path d="M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"/><path d="M3 3v5h5"/></svg>
                         æœ€åˆã«æˆ»ã‚‹
                    </button>
                </div>
                
                 <footer class="mt-12 mb-20 text-center text-ny-navy/40 text-xs tracking-widest">Â© 2026 AI NEW YEAR PROJECT</footer>
            `;
            app.appendChild(div);
        }

        // Global share function
        function shareResult(name, fortune) {
            const text = `ğŸä»¤å’Œå…«å¹´ãƒ»æ–°æ˜¥AIè¨ºæ–­ğŸ\nç§ã¯ã€${name}ã€‘ã§ã—ãŸï¼\né‹å‹¢: ${fortune}\n2026å¹´ã®AIé‹å‹¢ã‚’å ãŠã†ï¼`;
            const twitterUrl = `https://twitter.com/intent/tweet?text=${encodeURIComponent(text)}`;
            window.open(twitterUrl, '_blank');
        }

        // Start App
        render();

    </script>
</body>

</html>